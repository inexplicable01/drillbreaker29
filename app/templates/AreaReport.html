<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Area Report</title>
    <style>
        body, html {
            height: 100%; /* Use the full height of the screen */
            margin: 0; /* Remove default margin */
            overflow: hidden; /* Disable scrolling */
        }

        #main-content {
            display: flex; /* Use flexbox for layout */
            height: 100%; /* Full height */
        }

        #map-container {
            flex: 2; /* Takes up twice the space compared to each of the side sections */
            height: 100%;
        }

        #side-section {
            display: flex;
            flex-direction: column; /* Stack the data and comments sections vertically */
            flex: 1; /* The side section takes up the remaining space */
            height: 100%;
        }

        #data-section, #comments-section {
            flex: 1; /* Each section takes up half of the side section */
            overflow-y: auto; /* Enable scrolling within each section if the content overflows */
        }
    #areaLinks {
        display: flex;
    }

    #areaLinks a {
        margin-right: 10px; /* Adjust the spacing between links */
        color: blue; /* Makes the link color blue */
        text-decoration: none; /* Removes the underline from links */
        font-size: 16px; /* Sets the font size to 16 pixels */
    }
        /* Add any additional styling you need for data-section and comments-section here */
    </style>
    <script>
        // Function to handle the form submission without reloading the page
        // and to update maps and data based on the selected area.
        function submitForm(selectedValue) {
            event.preventDefault(); // Prevent the form from submitting in the traditional way

            // Assuming you have functions like updateMap(selectedValue) and updateData(selectedValue)
            // that you'd use to update the map and data on the page.
            updateMap(selectedValue);
            updateData(selectedValue);

            // Add your AJAX call or fetch API logic here if needed to send the selectedValue
            // to your server and receive back the data/maps to be updated on the page.
            console.log("Selected area:", selectedValue); // For demonstration purposes
        }

        // Example functions for updating the map and data
        function updateMap(selectedArea) {
            // Implement your logic to update the map based on the selectedArea
            console.log("Map updated for:", selectedArea); // Placeholder
        }

        function updateData(selectedArea) {
            // Implement your logic to update the data displayed on the page based on the selectedArea
            console.log("Data updated for:", selectedArea); // Placeholder
        }
    </script>
</head>
<body>

<div id="main-content">
    <div id="map-container">
        <!-- Your map will go here -->



        <div id="areaLinks" style="display: flex;">
            {% for location in locationtoinspect %}
                <a href="/areareport?location={{ location }}" style="margin-right: 10px;">{{ location }}</a>
            {% endfor %}
{#    <a href="/areareport?location=Location1">Location1</a>#}
{#    <a href="/areareport?location=Location2">Location2</a>#}
{#    <a href="/areareport?location=Location3">Location3</a>#}

        </div>
    {{ m | safe }}

    </div>
    <div id="side-section">
        <div id="data-section">
            <h2>Sold Houses</h2>
            <table border="1">
                <!-- Table headers -->
                <thead>
                <tr>
                    <th>address</th>
                    <th>Living Sqft</th>
                    <th>bed</th>
                    <th>bath</th>
                    <th>Listing Price</th>
                    <th>Sold Price</th>
                    <th>Days to Contract</th>
                    {#            <th>unit</th>#}
                </tr>
                </thead>

                <!-- Table data -->
                <tbody>
                {% for house in soldhouses %}
                    <tr>
                        <td><a href='https://www.zillow.com{{ house.hdpUrl }}' target='_blank'>{{ house.streetAddress }}House Link</a></td>
                        <td>{{ house.livingArea }}</td>
                        <td>{{ house.bedrooms }}</td>
                        <td>{{ house.bathrooms }}</td>
                        <td>{{ house.listprice }}</td>
                        <td>{{ house.price }}</td>
                        <td>{{ house.list2penddays }}</td>
                        {#            <td>{{ address.unit }}</td>#}
                    </tr>
                {% endfor %}
                </tbody>
            </table>

        </div>
        <div id="comments-section">
            <h2>Summary</h2>
            <table border="1">
                <!-- Table headers -->
                <thead>
                <tr>
                    <th>Housing</th>
                    <th>Beds</th>
                    <th>Bath</th>
                    <th>Count</th>
                    <th>Min</th>
                    <th>Average</th>
                    <th>Max</th>
                    {#            <th>unit</th>#}
                </tr>
                </thead>

                <!-- Table data -->
                <tbody>
                {% for key,housegenre in housesoldpriceaverage.items() %}
                    <tr>
                        <td>{{ key }}</td>
                        <td>{{ housegenre.beds }}</td>
                        <td>{{ housegenre.baths }}</td>
                        <td>{{ housegenre.count }}</td>
                        <td>{{ housegenre.minprice }}</td>
                        <td>{{ housegenre.aveprice }}</td>

                        <td>{{ housegenre.maxprice }}</td>

                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
n

</body>
</html>